---
// ContactForm component - Contact form styled as a terminal input
---

<div class="contact-form">
  <div class="form-header mb-2">
    <span class="text-terminal-green text-sm">$ mail -s "Contact Message" snehashis@devops.engineer</span>
  </div>
  
  <form id="contact-form" class="space-y-2">
    <div class="form-group">
      <label class="text-terminal-amber text-sm block mb-0.5">From:</label>
      <input 
        type="email" 
        id="email" 
        name="email" 
        class="bg-terminal-darkbg border border-terminal-green text-terminal-text p-1 w-full rounded text-sm focus:ring-terminal-green focus:border-terminal-green"
        placeholder="your-email@example.com"
        required
      />
    </div>
    
    <div class="form-group">
      <label class="text-terminal-amber text-sm block mb-0.5">Subject:</label>
      <input 
        type="text" 
        id="subject" 
        name="subject" 
        class="bg-terminal-darkbg border border-terminal-green text-terminal-text p-1 w-full rounded text-sm focus:ring-terminal-green focus:border-terminal-green"
        placeholder="Message subject"
        required
      />
    </div>
    
    <div class="form-group">
      <label class="text-terminal-amber text-sm block mb-0.5">Message:</label>
      <textarea 
        id="message" 
        name="message" 
        rows="4" 
        class="bg-terminal-darkbg border border-terminal-green text-terminal-text p-1 w-full rounded text-sm focus:ring-terminal-green focus:border-terminal-green"
        placeholder="Type your message here..."
        required
      ></textarea>
    </div>
    
    <div class="form-submit">
      <button 
        type="submit" 
        class="bg-terminal-green text-black px-3 py-1 rounded text-sm hover:bg-opacity-80 transition-all"
      >
        Send
      </button>
      <button 
        type="button" 
        class="ml-2 bg-terminal-error text-white px-3 py-1 rounded text-sm hover:bg-opacity-80 transition-all"
        id="cancel-button"
      >
        Cancel
      </button>
    </div>
  </form>
  
  <div id="form-success" class="hidden mt-4 p-4 bg-terminal-success bg-opacity-20 border border-terminal-success rounded">
    <p class="text-terminal-success">Message sent successfully!</p>
  </div>
  
  <div id="form-error" class="hidden mt-4 p-4 bg-terminal-error bg-opacity-20 border border-terminal-error rounded">
    <p class="text-terminal-error">Error sending message. Please try again.</p>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('contact-form') as HTMLFormElement;
    const successMessage = document.getElementById('form-success');
    const errorMessage = document.getElementById('form-error');
    const cancelButton = document.getElementById('cancel-button');
    
    if (form && successMessage && errorMessage && cancelButton) {
      form.addEventListener('submit', (e) => {
        e.preventDefault();
        
        // Simulating form submission
        const random = Math.random();
        
        // Hide any existing messages
        successMessage.classList.add('hidden');
        errorMessage.classList.add('hidden');
        
        // Simulate API call with timeout
        setTimeout(() => {
          if (random > 0.2) { // 80% success rate for demo
            successMessage.classList.remove('hidden');
            form.reset();
          } else {
            errorMessage.classList.remove('hidden');
          }
        }, 1000);
      });
      
      cancelButton.addEventListener('click', () => {
        form.reset();
        successMessage.classList.add('hidden');
        errorMessage.classList.add('hidden');
      });
    }
  });
</script>

<style>
  .contact-form input,
  .contact-form textarea {
    font-family: 'JetBrains Mono', monospace;
  }
  
  .contact-form input:focus,
  .contact-form textarea:focus {
    box-shadow: 0 0 0 1px rgba(74, 246, 38, 0.2);
  }
  
  #form-success, #form-error {
    animation: fadeIn 0.3s ease-in;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
</style>